;(function(t,e){if(typeof module==="object"&&module.exports){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{this.PointerTracker=this.PointerTracker||{};this.PointerTracker.utils=e()}})(this,function(){"use strict";var t,e={click:"touchstart",mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"};function n(t){t=t||event;if(!t.preventDefault)t.preventDefault=function(){this.returnValue=false};if(!t.stopPropagation)t.stopPropagation=function(){this.cancelBubble=true};return t}var i=function(){if(document.addEventListener){return function t(n,i,s){if(!n){return}n=typeof n==="string"?$(n):n;s=o(s,i,n);if(e[i])n.addEventListener(e[i],s,true);n.addEventListener(i,s,true)}}else{return function i(t,e,s){if(!t)return;t=typeof t==="string"?$(t):t;t.attachEvent("on"+e,function(t){t=n(t);return s.call(t.target||t.srcElement,t)})}}}();var s;function o(t,n,i){var o=e[n];if(!o)return t;return function(e){var n=e.type===o;if(s&&!n){return s=false}s=n;return t.call(this,e)}}function r(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,e||1e3/60)}}return{on:i,getRaf:r}});(function(t,e){if(typeof module==="object"&&module.exports){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{this.PointerTracker=this.PointerTracker||{};this.PointerTracker.EventEmmiter=e()}})(this,function(){"use strict";var t={}.hasOwnProperty;function e(){}e.mixin=function(n){var i=e.prototype;for(var s in e.prototype){if(t.call(i,s)){n[s]=i[s]}}};e.prototype={on:function(t,e){this._events=this._events||{};this._events[t]=this._events[t]||[];this._events[t].push(e)},once:function(t,e){var n=this;function i(){e.apply(null,arguments);n.off(t,e)}i.fn=e;return this.on(t,e)},off:function(t,e){this._events=this._events||{};if(!e){delete this._events[t];return}else if(!this._events[t]){return}var n=this._events[t],i,s;for(i=0,s=n.length;i<s;i++){if(e===n[i]||e===n[i].fn){return!!n.splice(i,1)}}},emit:function(t){if(!this._events||!this._events[t]){return}var e=this._events[t],n=[].slice.call(arguments,1),i,s;for(i=0,s=e.length;i<s;i++){e[i].apply(null,n)}}};return e});(function(t,e){if(typeof module==="object"&&module.exports){module.exports=e(require("./utils",require("./eventEmmiter")))}else if(typeof define==="function"&&define.amd){define(["./utils","./eventEmitter"],e)}else{var n=this.PointerTracker.utils,i=this.PointerTracker.EventEmmiter;this.PointerTracker=e(n,i)}})(this,function(t,e){"use strict";var n=4,i=/android 2\.\d/i.test(navigator.userAgent);function s(e){this._element=e;this._points={};this.lastClick=0;t.on(e,"mousedown",c(o,this));t.on(e,"mousemove",c(u,this));t.on(e,"mouseup",c(r,this));t.on(e,"mouseout",c(r,this))}e.mixin(s.prototype);function o(t){if(i&&(new Date).getTime()-this.lastClick<300){this.lastClick=(new Date).getTime();return}h(t);t=a(t);this._isMousedown=true;this._pos=l(this._element);var e=f(this,t);this._points={start:e,last:e,current:e};this.emit("down",this._points)}function r(t){h(t);this._isMousedown=false;if(!this._mousemove){return}if(!this.mousemove||m(this.points_.start,this.points_.current)<n)return t.type==="touchend"?this.emit("tap",this.points_):null;this._mousemove=false;t=a(t);this.emit("up",this._points)}function u(t){h(t);if(!this._isMousedown){return}t=a(t);this._points.last=this._points.current;this._points.current=f(this,t);if(this.mousemove||m(this._points.start,this._points.current)>n){if(!this.mousemove)this.emit("start",this._points);this.mousemove=true;this.emit("move",this._points)}}function f(t,e){var n={};n.x=e.pageX-t._pos.x||e.offsetX||0;n.y=e.pageY-t._pos.y||e.offsetY||0;return n}function a(t){return t.touches&&t.touches.length?t.touches[0]:t}function h(t){t.stopPropagation();if(!i)t.preventDefault()}function c(t,e){return function(){t.apply(e,arguments)}}function m(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function l(t){var e=0,n=0;if(t.offsetParent){do{e+=t.offsetLeft;n+=t.offsetTop}while(t=t.offsetParent)}return{x:e,y:n}}return s});